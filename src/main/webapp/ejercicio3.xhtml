<!DOCTYPE html>
<html xmlns="http://www.w3c.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:c="http://java.sun.com/jsp/jstl/core">
    <h:head>
    </h:head>
    <h:body>

        <h:form id="form">
            <h3>Productos</h3>

            <p:dataGrid var="prod" value="#{productoBean.productos}">
                <p:column>
                    <p:panel>
                        <h:panelGrid columns="1" style="width:100%">
                            <h:outputText value="#{prod.nombre}" style="color:#ff8a00; font-weight:bold;" />
                            <h:outputText value="#{prod.descripcion}" />
                        </h:panelGrid>
                        <p:commandLink update=":form:productoDetalle"
                                       oncomplete="PF('productoDialog').show()">
                            <h:outputText value="Detalles" />
                            <f:setPropertyActionListener value="#{prod}" target="#{productoBean.seleccionado}" />
                        </p:commandLink>
                    </p:panel>
                </p:column>
            </p:dataGrid>

            <p:dialog widgetVar="productoDialog" header="Detalle del producto"
                      modal="true">
                <p:outputPanel id="productoDetalle" layout="block">
                    <h:panelGrid columns="2" cellpadding="5">
                        <h:outputLabel for="Nombre" value="Nombre: " />
                        <h:outputText id="Nombre" value="#{productoBean.seleccionado.nombre}" />
                        <h:outputLabel for="Descripcion" value="DescripciÃ³n: " />
                        <h:outputText id="Descripcion" value="#{productoBean.seleccionado.descripcion}" />                        
                    </h:panelGrid>
                </p:outputPanel>
            </p:dialog>
        </h:form>
    </h:body>
</html>
